{
  "_id": "organisation-classification-synapse-share",
  "type": "pipe",
  "source": {
    "type": "dataset",
    "dataset": "organisation-classification-synapse-transform"
  },
  "sink": {
    "type": "sql",
    "system": "synapse",
    "batch_size": 10000,
    "create_table_if_missing": true,
    "lenient": true,
    "primary_key": "_id",
    "recreate_table_on_first_run": true,
    "schema_definition": [{
      "type": "string",
      "name": "_id",
      "allow_nul": false,
      "max_size": 4000,
      "min_size": 1,
      "primary_key": true,
      "source_property": "_id"
    }, {
      "type": "string",
      "name": "global-classification:_id",
      "allow_null": true,
      "max_size": 4000,
      "min_size": 1,
      "source_property": "global-classification:_id"
    }, {
      "type": "string",
      "name": "global-organisation:_id",
      "allow_null": true,
      "max_size": 4000,
      "min_size": 1,
      "source_property": "global-organisation:_id"
    }],
    "table": "global-organisation-classification",
    "use_bulk_operations": true
  },
  "transform": [{
    "type": "emit_children"
  }, {
    "type": "dtl",
    "rules": {
      "default": [
        ["discard",
          ["not", "_S._deleted"]
        ],
        ["copy", "*"]
      ]
    }
  }],
  "batch_size": 10000,
  "remove_namespaces": false
}
