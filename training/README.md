# This file contains the general practice we use in the training part of the documentation.

## File structure

```
File structure overview. Structure is the same for each chapter.

docs/
-training/
--010_architecture_and_concepts/
---architecture_and_concepts.rst #index file
---020_Beginner.rst
---030_Novice.rst
---040_Intermediate.rst
---050_Advanced.rst              #Not present in all chapters
---060_Expert.rst                #Not present in all chapters
---070_Epilogue.rst
---media/
----beginner-different_types_of_architecture_ESB.png
----novice-joining_data-Left_join.png
----<difficulty>-<sub_chapter>-<image_name>.png
--020_systems/
---media/
---… same structure as 010_architecture_and_concepts.


```

## Title and headers syntax in RST.
```
Title level | Example of title for level.

=========================================
Chapter         | Architecture & Concepts
=========================================

Chapter Section | Architecture & Concepts: Beginner
---------------------------------------------------

Topic           | The parts of sesam
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Title in topic  | Terminology
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

SubTitle topic  | Systems
#########################

SubSubTitleTopic| (No example of usage)
"""""""""""""""""""""""""""""""""""""""
```

## How to reference stuff in RST.
Please read: https://docutils.sourceforge.io/docs/user/rst/quickref.html

If you want your subtopic titles to be reference-able use the syntax

```
.. _topic_subtitle:

Topic Subtitle
^^^^^^^^^^^^^^
```

To reference them later, use `topic_subtitle_`


## How is the table of contents generated?
The structure is generated by the following hierarchy of "toctree" index files:

```
hierarchy:

index.rst
training/
-training.rst
-010_architecture_and_concepts/
--architecture_and_concepts.rst
```
`index.rst` references `training.rst`.

`training.rst` references each chapters rst, f.ex: `architecture_and_concepts.rst`

`architecture_and_concepts.rst` contains an introduction and references the rst files in that chapter.

All topics in a chapter will be shown in the main Table of Contents, meaning titles where `-----` is used. (this can be changed by setting depth in the `training.rst` index file.)

## How does numbering work?
Numbering is added in post as the docs page is generated. We use the toctree flag :numbered: in training.rst to enable this.

## Section summary

A "floating" sidebar summary can be handled by the `.. sidebar` directive in combination with some custom CSS.

### Initial setup:

Sphinx expects the custom CSS to reside under `_build/html/_static/css/`.
This folder is not GIT'ed so the CSS is stored as `_templates/css/sesam.css`.

Create a link to it from `_build/html/_static/css/`:

```
$ cd _build/html/_static/css
$ ln -s ../../../../_templates/css/sesam.css sesam.css
```

This will ensure correct relative link ref.

With the custom CSS in the expected folder, `_templates/layout.html` is now able include it when building
the project.

The following line was added to `layout.html` to handle this:

```
{% set css_files = css_files + [ "_static/css/sesam.css" ] %}
```

All future custom CSS additions can now be put into `_templates/css/sesam.css`
and be automatically included in builds.

### .. sidebar Usage

With the custom CSS all set up, we can use the folling RST:

```
.. sidebar:: Summary

  - First point in summary
  - Second point in summary
```
